# Axure 页面还原与优化

用于页面视觉还原与优化。

## 默认目标与可选优化

- **默认目标**：在用户未提出额外要求时，尽量 1:1 还原截图/原型的视觉与布局（不主动“改版”）。
- **可选优化**：如需我同时做“优化设计/交互”（信息结构调整、视觉升级、交互补全、可用性优化等），请在需求里明确说明；否则仅做还原与基础走查修复。

## 选择还原页面

- 用户指定页面：使用用户指定页面。
- 用户未指定：从站点地图选择 1-2 个核心页面（优先视觉丰富、功能完整的页面）。

## 获取页面数据

**必需数据**：
1. **截图**：必须先确认当前模型支持视觉识别；不支持时立即告知用户，并询问是否改为仅基于文本+主题还原。截图需优先下载到本项目内再分析（推荐 `get_axure_screenshot`，使用 `storeBase64: false` + `downloadDirectory` 指向 `temp/axure-screenshots/` 的绝对路径，不存在时先创建目录，必要时指定 `filename`）。若下载失败，依次尝试 `get_page_screenshot` 或 `download_page_data` 获取截图，并继续尝试当前环境内可用的其他截图/抓取类工具作为兜底；若仍失败，必须告知用户并让其决定是否继续。
2. **主题**：使用 `get_page_theme`（如之前未获取）。
3. **文本**：使用 `get_axure_text` 获取页面文案/标签/提示语，用于填充准确内容；当无法使用视觉时，作为还原的重要依据。

**可选数据（强约束：仅在用户主动提及或页面生成后优化时获取）**：
IMPORTANT: 未经用户明确确认，不得获取任何可选数据。
4. **交互**：使用 `get_axure_interactions`（页面包含复杂交互时）。
5. **图片**：使用 `get_axure_image`，优先保存到本地（`storeBase64: false` + `downloadDirectory` 指向 `temp/axure-images/` 的绝对路径）。

**数据获取原则**：
- 默认使用截图+主题+文本生成页面。
- 截图是视觉还原主要依据。
- 文本用于保证页面文案/标签准确性，避免“凭空改写”。
- IMPORTANT: 资源获取禁止批量/并发请求，必须等一个完成后再获取下一个。

## 还原策略

1. **截图**（最高优先级）：视觉识别布局、颜色、间距。
2. **主题**：应用提取的 design tokens。
3. **文本**：补充文案准确性（默认参考）。
4. **交互/图片**（可选）：补充交互细节与素材准确性。
5. **基础设计走查与修复**：按设计与前端规范检查明显问题并修复（如对齐/间距不一致、字号层级混乱、对比度不足、可点击态缺失、响应式断点明显错位等）；若修复会改变原设计意图，先向用户确认。

## 还原输出

- 生成符合 `development-standards.md` 规范的页面组件。
- 页面还原完成后按开发规范验收。

## 交互提示（精简）

- 若模型不支持视觉或截图无法获取，立即说明并让用户选择下一步方案。
- 默认尽量 1:1 还原；需要“优化设计/交互”请在需求中明确提出。
