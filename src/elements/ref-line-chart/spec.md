# ECharts 折线图

## 1. 简要概述
ECharts 折线图组件是一个基于 Apache ECharts 的数据可视化元素，用于展示时间序列数据或趋势变化。该组件演示了如何在 Axhub 中集成第三方图表库，并提供了完整的配置和交互能力。

## 2. 功能说明
按照页面或元素展开说明所有功能，需要将每个模块都详细展开，不要遗漏任何部分。

### 2.1 标题区域
- **组成结构**：图表标题文本
- **内容类型**：可配置的标题文本
- **布局和样式**：
  - 显示在图表顶部居中位置
  - 使用较大字号
  - 颜色可配置
- **交互行为**：无交互
- **状态变化**：无状态变化

### 2.2 图例区域
- **组成结构**：系列名称列表
- **内容类型**：来自数据源的系列名称
- **布局和样式**：
  - 通常显示在图表顶部或底部
  - 每个系列使用对应的颜色标识
  - 水平排列
- **交互行为**：
  - 点击图例项：显示/隐藏对应系列
  - 触发 `onLegendSelect` 事件，传递选择状态
  - 悬停时有视觉反馈
- **状态变化**：
  - 系列的显示/隐藏状态变化
  - 图表自动重新渲染

### 2.3 绘图区域
- **组成结构**：折线图主体，包含多条折线
- **内容类型**：
  - 折线：连接数据点的线条
  - 数据点：每个数据值的标记点
  - 区域填充（可选）
- **布局和样式**：
  - 占据图表主要区域
  - 使用平滑曲线效果
  - 多系列使用不同颜色区分
  - 支持渐变色和阴影效果
- **交互行为**：
  - 鼠标悬停：显示提示框，展示当前数据点详情，高亮数据点
  - 点击图表：触发 `onClick` 事件，传递点击位置的数据信息
  - 数据缩放：支持鼠标滚轮或拖拽缩放，触发 `onDataZoom` 事件
- **状态变化**：
  - 数据更新时折线重新绘制
  - 缩放范围变化时显示区域更新

### 2.4 坐标轴区域
- **组成结构**：X 轴和 Y 轴
- **内容类型**：
  - X 轴：类目数据或时间数据
  - Y 轴：数值刻度
  - 坐标轴名称（可配置）
  - 刻度线和网格线
- **布局和样式**：
  - X 轴显示在底部
  - Y 轴显示在左侧
  - 网格线使用浅色虚线
  - 坐标轴文字使用中等字号
- **交互行为**：无直接交互
- **状态变化**：数据范围变化时刻度自动调整

### 2.5 提示框
- **组成结构**：浮动提示框
- **内容类型**：
  - X 轴标签值
  - 各系列的数值
  - 系列名称和颜色标识
- **布局和样式**：
  - 跟随鼠标位置显示
  - 半透明背景
  - 圆角边框
  - 阴影效果
- **交互行为**：
  - 鼠标悬停在图表上时自动显示
  - 鼠标移出时自动隐藏
- **状态变化**：显示/隐藏状态切换

### 2.6 加载动画
- **组成结构**：加载指示器
- **内容类型**：旋转动画图标
- **布局和样式**：
  - 显示在图表中心
  - 半透明遮罩背景
- **交互行为**：无交互
- **状态变化**：
  - 可通过 `showLoading` 动作显示
  - 可通过 `hideLoading` 动作隐藏

## 3. Axure API 说明
> 如果没有使用 Axure API，则不需要编写此部分。

### 事件列表
| 事件名 | 描述 | 触发时机 | 参数 |
|--------|------|----------|------|
| `onClick` | 点击图表时触发 | 点击图表任意位置时 | ECharts 事件参数对象 |
| `onDataZoom` | 数据缩放时触发 | 用户缩放图表数据范围时 | ECharts 缩放事件参数 |
| `onLegendSelect` | 图例选择时触发 | 点击图例切换系列显示时 | ECharts 图例选择事件参数 |

### 动作列表
| 动作名 | 描述 | 参数 |
|--------|------|------|
| `updateData` | 更新图表数据 | `{ series: Array, xAxis: { data: Array } }` - 新的系列和 X 轴数据 |
| `resize` | 调整图表大小 | 无 |
| `showLoading` | 显示加载动画 | 无 |
| `hideLoading` | 隐藏加载动画 | 无 |

### 变量列表
| 变量名 | 类型 | 描述 |
|--------|------|------|
| `chart_instance` | `EChartsInstance` | ECharts 实例对象，可用于高级操作 |
| `current_data` | `object` | 当前图表数据，包含 series 和 xAxis |

### 配置项列表
| 配置项ID | 类型 | 显示名称 | 说明 | 默认值 |
|----------|------|----------|------|--------|
| `title` | `input` | 图表标题 | 显示在图表顶部的标题文本 | `'折线图'` |
| `xAxisName` | `input` | X轴名称 | X轴的标签名称 | `'X轴'` |
| `yAxisName` | `input` | Y轴名称 | Y轴的标签名称 | `'Y轴'` |
| `primaryColor` | `colorPicker` | 主题色 | 图表的主色调 | `'#1890ff'` |
| `showLegend` | `checkbox` | 显示图例 | 是否显示图例 | `true` |
| `showTooltip` | `checkbox` | 显示提示框 | 是否显示鼠标悬停提示 | `true` |

### 数据项列表
| 数据项名称 | 描述 | 数据结构 |
|-----------|------|----------|
| `series` | 折线图系列数据 | `Array<{ name: string, data: number[] }>` |
| `xAxis` | X轴数据 | `{ data: string[] }` |

**series 字段说明：**
- `name` (string)：系列名称，显示在图例中
- `data` (number[])：数据数组，每个元素对应 X 轴的一个点

**xAxis 字段说明：**
- `data` (string[])：X 轴标签数组，与系列数据一一对应

**数据示例：**
```json
{
  "series": [
    { "name": "系列1", "data": [120, 132, 101, 134, 90, 230, 210] },
    { "name": "系列2", "data": [220, 182, 191, 234, 290, 330, 310] }
  ],
  "xAxis": {
    "data": ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"]
  }
}
```
